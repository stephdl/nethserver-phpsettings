{
if (-r "/usr/lib64/httpd/modules/libphp54-php5.so" && (($httpd{PhpVersion} || '') eq 'php54'))
    {
$OUT .= '
# PHP54 Module
# PHP is an HTML-embedded scripting language which attempts to make it
# easy for developers to write dynamically generated webpages.
#
<IfModule prefork.c>
    LoadModule php5_module modules/libphp54-php5.so
</IfModule>

#
# The following lines prevent .user.ini files from being viewed by Web clients.
#
<Files ".user.ini">
    <IfModule mod_authz_core.c>
        Require all denied
    </IfModule>
    <IfModule !mod_authz_core.c>
        Order allow,deny
        Deny from all
        Satisfy All
    </IfModule>
</Files>

#
# Cause the PHP interpreter to handle files with a .php extension.
#

AddHandler php5-script .php


#
# Allow php to handle Multiviews
#

AddType text/html .php

#
# Add index.php to the list of files that will be served as directory
# indexes.
#
DirectoryIndex index.php

# mod_php options

    #
    # Uncomment the following lines to allow PHP to pretty-print .phps
    # files as PHP source code:
    #
    #<FilesMatch \.phps$>
    #    SetHandler application/x-httpd-php-source
    #</FilesMatch>

    #
    # Apache specific PHP configuration options
    # those can be override in each configured vhost
    #
    php_value session.save_handler "files"
    php_value session.save_path    "/opt/remi/php54/root/var/lib/php/session"
    php_value soap.wsdl_cache_dir  "/opt/remi/php54/root/var/lib/php/wsdlcache"

';
    }

elsif (-r "/usr/lib64/httpd/modules/libphp55-php5.so" && (($httpd{PhpVersion} || '') eq 'php55'))
    {
$OUT .= '
# PHP55 Module
# PHP is an HTML-embedded scripting language which attempts to make it
# easy for developers to write dynamically generated webpages.
#
<IfModule prefork.c>
    LoadModule php5_module modules/libphp55-php5.so
</IfModule>

#
# The following lines prevent .user.ini files from being viewed by Web clients.
#
<Files ".user.ini">
    <IfModule mod_authz_core.c>
        Require all denied
    </IfModule>
    <IfModule !mod_authz_core.c>
        Order allow,deny
        Deny from all
        Satisfy All
    </IfModule>
</Files>

#
# Cause the PHP interpreter to handle files with a .php extension.
#

AddHandler php5-script .php

#
# Allow php to handle Multiviews
#
AddType text/html .php

#
# Add index.php to the list of files that will be served as directory
# indexes.
#
DirectoryIndex index.php

# mod_php options

    #
    # Uncomment the following lines to allow PHP to pretty-print .phps
    # files as PHP source code:
    #
    #<FilesMatch \.phps$>
    #    SetHandler application/x-httpd-php-source
    #</FilesMatch>

    #
    # Apache specific PHP configuration options
    # those can be override in each configured vhost
    #
    php_value session.save_handler "files"
    php_value session.save_path    "/opt/remi/php55/root/var/lib/php/session"
    php_value soap.wsdl_cache_dir  "/opt/remi/php55/root/var/lib/php/wsdlcache"

';
    }

elsif (-r "/usr/lib64/httpd/modules/libphp56-php5.so" && (($httpd{PhpVersion} || '') eq 'php56'))
    {
$OUT .= '
# PHP56 Module
# PHP is an HTML-embedded scripting language which attempts to make it
# easy for developers to write dynamically generated webpages.
#
<IfModule prefork.c>
  LoadModule php5_module modules/libphp56-php5.so
</IfModule>

#
# The following lines prevent .user.ini files from being viewed by Web clients.
#
<Files ".user.ini">
    <IfModule mod_authz_core.c>
        Require all denied
    </IfModule>
    <IfModule !mod_authz_core.c>
        Order allow,deny
        Deny from all
        Satisfy All
    </IfModule>
</Files>

#
# Cause the PHP interpreter to handle files with a .php extension.
#

AddHandler php5-script .php

#
# Allow php to handle Multiviews
#
AddType text/html .php

#
# Add index.php to the list of files that will be served as directory
# indexes.
#
DirectoryIndex index.php

# mod_php options

    #
    # Uncomment the following lines to allow PHP to pretty-print .phps
    # files as PHP source code:
    #
    #<FilesMatch \.phps$>
    #    SetHandler application/x-httpd-php-source
    #</FilesMatch>

    #
    # Apache specific PHP configuration options
    # those can be override in each configured vhost
    #
    php_value session.save_handler "files"
    php_value session.save_path    "/opt/remi/php56/root/var/lib/php/session"
    php_value soap.wsdl_cache_dir  "/opt/remi/php56/root/var/lib/php/wsdlcache"
';
    }

elsif (-r "/usr/lib64/httpd/modules/libphp70.so" && (($httpd{PhpVersion} || '') eq 'php70'))
    {
$OUT .= '
#
# PHP is an HTML-embedded scripting language which attempts to make it
# easy for developers to write dynamically generated webpages.
#

# Cannot load both php5 and php7 modules
#<IfModule !mod_php5.c>
  <IfModule prefork.c>
    LoadModule php7_module modules/libphp70.so
  </IfModule>
#</IfModule>

#
# The following lines prevent .user.ini files from being viewed by Web clients.
#
<Files ".user.ini">
    <IfModule mod_authz_core.c>
        Require all denied
    </IfModule>
    <IfModule !mod_authz_core.c>
        Order allow,deny
        Deny from all
        Satisfy All
    </IfModule>
</Files>

#
# Allow php to handle Multiviews
#
AddType text/html .php

#
# Add index.php to the list of files that will be served as directory
# indexes.
#
DirectoryIndex index.php

# mod_php options
<IfModule  mod_php7.c>
    #
    # Cause the PHP interpreter to handle files with a .php extension.
    #
    <FilesMatch \.php$>
        SetHandler application/x-httpd-php
    </FilesMatch>

    #
    # Uncomment the following lines to allow PHP to pretty-print .phps
    # files as PHP source code:
    #
    #<FilesMatch \.phps$>
    #    SetHandler application/x-httpd-php-source
    #</FilesMatch>

    #
    # Apache specific PHP configuration options
    # those can be override in each configured vhost
    #
    php_value session.save_handler "files"
    php_value session.save_path    "/var/opt/remi/php70/lib/php/session"
    php_value soap.wsdl_cache_dir  "/var/opt/remi/php70/lib/php/wsdlcache"

    #php_value opcache.file_cache   "/var/opt/remi/php70/lib/php/opcache"
</IfModule>
';
    }

else
    {
    $OUT .= '
# Default PHP Module
# PHP is an HTML-embedded scripting language which attempts to make it
# # easy for developers to write dynamically generated webpages.
#
 <IfModule prefork.c>
   LoadModule php5_module modules/libphp5.so
 </IfModule>
 <IfModule worker.c>
   LoadModule php5_module modules/libphp5-zts.so
 </IfModule>

#
# Cause the PHP interpreter to handle files with a .php extension.
#
AddHandler php5-script .php
AddType text/html .php

#
# Add index.php to the list of files that will be served as directory
# indexes.
#
DirectoryIndex index.php

#
# Uncomment the following line to allow PHP to pretty-print .phps
# files as PHP source code:
#
#AddType application/x-httpd-php-source .phps
';
    }
}
